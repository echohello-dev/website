[tools]
node = "24"
bun = "1.3.5"

[env]
_.file = ".env"

[tasks.dev]
run = "bun run dev"
description = "Start the development server"

[tasks.build]
run = "bun run build"
description = "Build the production site"

[tasks.lint]
run = "bun run lint"
description = "Run linter"

[tasks.format]
run = "bun run format"
description = "Format code with Prettier"

[tasks."format:check"]
run = "bun run format:check"
description = "Check code formatting"

[tasks.install]
run = "bun install"
description = "Install dependencies"

[tasks."setup-token"]
run = '''
#!/usr/bin/env bash
set -e
TOKEN=$(gh auth token)
if [ -z "$TOKEN" ]; then
  echo "❌ No GitHub token found. Please run: gh auth login"
  exit 1
fi
echo "GITHUB_TOKEN=$TOKEN" > .env
echo "✅ GitHub token saved to .env"
'''
description = "Get GitHub token from gh CLI and save to .env"
